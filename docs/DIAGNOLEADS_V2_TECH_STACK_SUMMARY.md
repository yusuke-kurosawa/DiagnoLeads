# DiagnoLeads v2 - Technology Stack Quick Reference

**æœ€çµ‚æ›´æ–°**: 2025-11-23

---

## ğŸš€ å®Œå…¨ãªæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ä¸€è¦§

### ã‚³ã‚¢ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | é¸å®šç†ç”± |
|---------|------|-----------|---------|
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | **Next.js** | 15.1.5 | App Routerã€Server Componentsã€PPR |
| ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼ˆæœ¬ç•ªï¼‰ | **Node.js** | 20 LTS | Vercelè‡ªå‹•ç®¡ç† |
| ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼ˆé–‹ç™ºï¼‰ | **Bun** | 1.1.38 | 7å€é«˜é€Ÿãªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€2.3å€é«˜é€Ÿãªdev server |
| è¨€èª | **TypeScript** | 5.7+ | å‹å®‰å…¨æ€§ã€DXå‘ä¸Š |
| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ | **Bun** | 1.1.38 | æœ€é€Ÿã€ãƒã‚¤ãƒ†ã‚£ãƒ–TSå¯¾å¿œ |
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† | **mise** | Latest | ãƒãƒ«ãƒè¨€èªãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† |
| ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ | **Turbopack** | Built-in | Webpackæ¯”700å€é«˜é€Ÿ |

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | é¸å®šç†ç”± |
|---------|------|-----------|---------|
| ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° | **Tailwind CSS** | 4.0 | Oxide Engineï¼ˆRustè£½ã€10å€é«˜é€Ÿï¼‰ |
| UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | **shadcn/ui** | v2 | React Ariaçµ±åˆã€ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ« |
| ã‚¢ã‚¤ã‚³ãƒ³ | **Lucide React** | Latest | ä¸€è²«ã—ãŸã‚¢ã‚¤ã‚³ãƒ³ã‚·ã‚¹ãƒ†ãƒ  |
| ãƒ•ã‚©ãƒ¼ãƒ  | **React Hook Form** | 7.54+ | æœ€é«˜ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€Zodçµ±åˆ |
| ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | **Zod** | 3.24+ | å‹å®‰å…¨ã€OpenAPIç”Ÿæˆ |
| çŠ¶æ…‹ç®¡ç†ï¼ˆClientï¼‰ | **Zustand** | 5.0+ | æœ€å°é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆçŠ¶æ…‹ |
| çŠ¶æ…‹ç®¡ç†ï¼ˆServerï¼‰ | **TanStack Query** | 5.62+ | ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| çŠ¶æ…‹ç®¡ç†ï¼ˆURLï¼‰ | **nuqs** | 2.8+ | å‹å®‰å…¨ãªURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ |
| ãƒ‡ãƒ¼ã‚¿ã‚°ãƒªãƒƒãƒ‰ | **TanStack Table** | 8.21+ | ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ« |
| å¯è¦–åŒ– | **Tremor** | 3.19+ | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒãƒ£ãƒ¼ãƒˆ |
| é€šçŸ¥ | **Sonner** | 1.7+ | ç¾ã—ã„ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ |
| å›½éš›åŒ– | **next-intl** | 3.27+ | App Routerå¯¾å¿œi18n |

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | é¸å®šç†ç”± |
|---------|------|-----------|---------|
| APIï¼ˆå†…éƒ¨ï¼‰ | **tRPC** | 11.0+ | ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰å‹å®‰å…¨ |
| APIï¼ˆå¤–éƒ¨ï¼‰ | **REST API Routes** | Next.js | Webhookã€å…¬é–‹API |
| ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ | **Server Actions** | Next.js | ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã€æ¥½è¦³çš„æ›´æ–° |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | **PostgreSQL** | 16+ | Supabaseç®¡ç†ã€æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ |
| ORM | **Drizzle ORM** | 0.38+ | Prismaæ¯”10å€é«˜é€Ÿ |
| ã‚¹ã‚­ãƒ¼ãƒç§»è¡Œ | **Drizzle Kit** | Latest | å‹å®‰å…¨ãªãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ |
| ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ | **pgvector** | Latest | AIåŸ‹ã‚è¾¼ã¿ç”¨ |
| å…¨æ–‡æ¤œç´¢ | **pg_search** | Latest | æ—¥æœ¬èªå¯¾å¿œ |
| èªè¨¼ | **BetterAuth** | 0.9+ | ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆçµ„ç¹”å¯¾å¿œ |
| èªå¯ | **CASL** | 6.8+ | å±æ€§ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ |
| ã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼ | **Trigger.dev** | v3 | ç®¡ç†ã‚¸ãƒ§ãƒ–ã€Vercelçµ±åˆ |
| ãƒ¡ãƒ¼ãƒ« | **Resend** | 4.0+ | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ¼ãƒ« |
| ãƒ¡ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | **React Email** | 3.0+ | Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |

### AIãƒ»åˆ†æ

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | é¸å®šç†ç”± |
|---------|------|-----------|---------|
| AI SDK | **Vercel AI SDK** | 4.0+ | ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã€Claudeçµ±åˆ |
| AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ | **Anthropic Claude** | 3.5 Sonnet | è¨ºæ–­ç”Ÿæˆã€ãƒªãƒ¼ãƒ‰åˆ†æ |
| åŸ‹ã‚è¾¼ã¿ | **OpenAI Embeddings** | text-embedding-3-small | ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ |
| åˆ†æ | **Vercel Analytics** | Latest | Webåˆ†æã€Core Web Vitals |
| ã‚¨ãƒ©ãƒ¼è¿½è·¡ | **Sentry** | Latest | ã‚¨ãƒ©ãƒ¼ç›£è¦– |
| ãƒ­ã‚° | **Axiom** | Latest | æ§‹é€ åŒ–ãƒ­ã‚° |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³å†ç”Ÿ | **Highlight.io** | Latest | ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒãƒƒã‚° |

### é–‹ç™ºãƒ„ãƒ¼ãƒ«

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | é¸å®šç†ç”± |
|---------|------|-----------|---------|
| Linter/Formatter | **Biome** | 1.9+ | ESLint+Prettieræ¯”100å€é«˜é€Ÿ |
| Gitãƒ•ãƒƒã‚¯ | **lefthook** | 1.10+ | ä¸¦åˆ—å®Ÿè¡Œã€Goè£½ã€æœ€é€Ÿ |
| ã‚³ãƒŸãƒƒãƒˆè¦ç´„ | **commitlint** | 19.7+ | Conventional Commitså¼·åˆ¶ |
| å‹ãƒã‚§ãƒƒã‚¯ | **TypeScript** | 5.7+ | Strictãƒ¢ãƒ¼ãƒ‰ |
| ãƒ†ã‚¹ãƒˆï¼ˆUnitï¼‰ | **Vitest** | 4.0+ | Jestæ¯”7.5å€é«˜é€Ÿ |
| ãƒ†ã‚¹ãƒˆï¼ˆE2Eï¼‰ | **Playwright** | 1.51+ | ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ã€æœ€å®‰å®š |
| ãƒ†ã‚¹ãƒˆï¼ˆComponentï¼‰ | **Testing Library** | Latest | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸­å¿ƒ |
| ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«å›å¸° | **Percy** | Latest | ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆæ¯”è¼ƒ |

### Specé§†å‹•é–‹ç™º

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | é¸å®šç†ç”± |
|---------|------|-----------|---------|
| Specå½¢å¼ | **OpenSpec** | Latest | æ©Ÿèƒ½ææ¡ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ |
| API Spec | **OpenAPI** | 3.1 | REST APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| ã‚¹ã‚­ãƒ¼ãƒå¤‰æ› | **zod-to-openapi** | Latest | Zod â†’ OpenAPI |
| tRPC to REST | **trpc-openapi** | Latest | è‡ªå‹•REST APIç”Ÿæˆ |
| å‹ç”Ÿæˆ | **openapi-typescript** | 7.4+ | OpenAPI â†’ TypeScript |
| APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | **Scalar** | v2 | ãƒ¢ãƒ€ãƒ³ãªOpenAPI UI |

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | æœˆé¡ã‚³ã‚¹ãƒˆ | é¸å®šç†ç”± |
|---------|------|-----------|---------|
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | **Vercel Pro** | $20 | æ±äº¬ã‚¨ãƒƒã‚¸ã€è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒ« |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | **Supabase Pro** | $25 | PostgreSQLã€RLS |
| ã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼ | **Trigger.dev Free** | $0 | 10ä¸‡ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ/æœˆ |
| ãƒ¡ãƒ¼ãƒ« | **Resend Free** | $0 | 3000é€š/æœˆ |
| ã‚¨ãƒ©ãƒ¼è¿½è·¡ | **Sentry Free** | $0 | 5000ã‚¤ãƒ™ãƒ³ãƒˆ/æœˆ |
| åˆ†æ | **Vercel Analytics** | Included | è¿½åŠ è²»ç”¨ãªã— |
| AI API | **Anthropic Claude** | ~$30-100 | å¾“é‡èª²é‡‘ |
| ãƒ‰ãƒ¡ã‚¤ãƒ³ | ã‚«ã‚¹ã‚¿ãƒ  | ~$12/å¹´ | diagnoleads.com |
| **åˆè¨ˆï¼ˆMVPï¼‰** | - | **$45-115/æœˆ** | FastAPIç‰ˆæ¯”$30-40å‰Šæ¸› |

---

## ğŸ¯ ä¸»è¦ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šï¼ˆADRï¼‰

### ADR-001: Next.js 15ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

**æ±ºå®š**: FastAPIãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’å»ƒæ­¢ã—ã€Next.js 15ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã«çµ±åˆ

**ç†ç”±**:
- âœ… å˜ä¸€ãƒ‡ãƒ—ãƒ­ã‚¤ã§ã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼ˆæœˆ$30-40å‰Šæ¸›ï¼‰
- âœ… tRPCã«ã‚ˆã‚‹å®Œå…¨ãªå‹å®‰å…¨æ€§
- âœ… Server Componentsã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
- âœ… SSR/SSGã«ã‚ˆã‚‹SEOæ”¹å–„

**ä»£æ›¿æ¡ˆ**: Remixã€SvelteKit â†’ ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®æˆç†Ÿåº¦ã§å´ä¸‹

---

### ADR-002: Drizzle ORMï¼ˆPrismaã§ã¯ãªãï¼‰

**æ±ºå®š**: Prisma ORM â†’ Drizzle ORM

**ç†ç”±**:
- âœ… **10å€é«˜é€Ÿ**ãªã‚¯ã‚¨ãƒªå®Ÿè¡Œï¼ˆPrisma Clientã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãªã—ï¼‰
- âœ… **ã‚¨ãƒƒã‚¸äº’æ›æ€§**ï¼ˆPrisma Accelerator $29/æœˆä¸è¦ï¼‰
- âœ… **ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º**ï¼š10KB vs 1MB+ï¼ˆã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é‡è¦ï¼‰
- âœ… **SQL-First**ï¼šè¤‡é›‘ãªãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆã‚¯ã‚¨ãƒªã«é©ã—ã¦ã„ã‚‹

**ã‚³ã‚¹ãƒˆå‰Šæ¸›**: æœˆ$29ï¼ˆPrisma Acceleratorä¸è¦ï¼‰

---

### ADR-003: BetterAuthï¼ˆLucia Authã§ã¯ãªãï¼‰

**æ±ºå®š**: Lucia Auth â†’ BetterAuth

**ç†ç”±**:
- âœ… **çµ„ç¹”/ãƒãƒ¼ãƒ ç®¡ç†**ãŒãƒ“ãƒ«ãƒˆã‚¤ãƒ³ï¼ˆSaaSå¿…é ˆæ©Ÿèƒ½ï¼‰
- âœ… **RBAC**ï¼ˆãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼‰æ¨™æº–æ­è¼‰
- âœ… **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒã‚·ãƒ§ãƒ³**ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Š
- âš ï¸ Betaï¼ˆ0.9.xï¼‰ã ãŒæœ¬ç•ªãƒ¬ãƒ‡ã‚£

**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**: Luciaã¯æˆç†Ÿã—ã¦ã„ã‚‹ãŒã€ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆæ©Ÿèƒ½ãŒãªã„

---

### ADR-004: Bunãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£

**æ±ºå®š**: npm/pnpm â†’ Bunï¼ˆé–‹ç™ºï¼‰ã€æœ¬ç•ªã¯VercelãŒè‡ªå‹•ã§Node.jsä½¿ç”¨

**ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯**:
- **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«é€Ÿåº¦**: npmæ¯”7å€é«˜é€Ÿã€pnpmæ¯”3å€é«˜é€Ÿ
- **Dev server**: npmæ¯”2.3å€é«˜é€Ÿãªèµ·å‹•
- **äº’æ›æ€§**: 99%+ npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å¯¾å¿œ

**æœ¬ç•ªç’°å¢ƒ**: VercelãŒè‡ªå‹•çš„ã«Node.jsã‚’ä½¿ç”¨ï¼ˆãƒªã‚¹ã‚¯ãªã—ï¼‰

---

### ADR-005: Vitestï¼ˆJestã§ã¯ãªãï¼‰

**æ±ºå®š**: Jest â†’ Vitest

**ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯**:
- **é€Ÿåº¦**: Jestæ¯”5-10å€é«˜é€Ÿï¼ˆViteé§†å‹•ï¼‰
- **Watchãƒ¢ãƒ¼ãƒ‰**: ç¬æ™‚ã®HMR vs Jestã®å®Œå…¨å†å®Ÿè¡Œ
- **Next.js 15äº’æ›æ€§**: ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã‚µãƒãƒ¼ãƒˆ

**å´ä¸‹**: Buntestï¼ˆæœªæˆç†Ÿã€æ©Ÿèƒ½ä¸è¶³ï¼‰

---

### ADR-006: lefthookã§Gitãƒ•ãƒƒã‚¯

**æ±ºå®š**: husky â†’ lefthook

**ç†ç”±**:
- âœ… **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: Goè£½ã€ãƒŸãƒªç§’ã§å®Ÿè¡Œ
- âœ… **ä¸¦åˆ—å®Ÿè¡Œ**: ãƒªãƒ³ãƒˆã€ãƒ†ã‚¹ãƒˆã€å‹ãƒã‚§ãƒƒã‚¯ã‚’åŒæ™‚å®Ÿè¡Œ
- âœ… **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£éä¾å­˜**: Bunã€npmã€pnpmã™ã¹ã¦ã§å‹•ä½œ

**ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯**: pre-commitãƒ•ãƒƒã‚¯å®Ÿè¡Œæ™‚é–“ 2-3ç§’ vs huskyã®8-10ç§’

---

### ADR-007: Trigger.devï¼ˆBullMQã§ã¯ãªãï¼‰

**æ±ºå®š**: BullMQ + Redis â†’ Trigger.dev

**ç†ç”±**:
- âœ… **ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ©**: Redisãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ä¸è¦
- âœ… **Vercelçµ±åˆ**: Next.jsã¨ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹é€£æº
- âœ… **ç„¡æ–™æ **: æœˆ10ä¸‡ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆï¼ˆMVPååˆ†ï¼‰
- âœ… **WebUI**: ã‚¸ãƒ§ãƒ–ç›£è¦–ç”»é¢

**ã‚³ã‚¹ãƒˆå‰Šæ¸›**: æœˆ$10-15ï¼ˆRedisãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ä¸è¦ï¼‰

---

### ADR-008: Specé§†å‹•é–‹ç™ºï¼ˆOpenAPIçµ±åˆï¼‰

**æ±ºå®š**: Zodã‚¹ã‚­ãƒ¼ãƒã‚’ä¸­å¿ƒã¨ã—ãŸSpecé§†å‹•ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

**ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**:
1. **Zodã‚¹ã‚­ãƒ¼ãƒå®šç¾©**ï¼ˆå”¯ä¸€ã®çœŸå®Ÿã®æºï¼‰
2. **OpenAPIè‡ªå‹•ç”Ÿæˆ**ï¼ˆzod-to-openapiï¼‰
3. **tRPCå®Ÿè£…**ï¼ˆZodãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
4. **REST APIè‡ªå‹•ç”Ÿæˆ**ï¼ˆtrpc-openapiï¼‰
5. **TypeScriptå‹ç”Ÿæˆ**ï¼ˆopenapi-typescriptï¼‰
6. **APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**ï¼ˆScalar UIï¼‰

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… å˜ä¸€ã®çœŸå®Ÿã®æºï¼ˆZodã‚¹ã‚­ãƒ¼ãƒï¼‰
- âœ… æ‰‹å‹•åŒæœŸä¸è¦
- âœ… ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰å‹å®‰å…¨
- âœ… å¸¸ã«æœ€æ–°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

---

### ADR-009: æ–°è¦ãƒªãƒã‚¸ãƒˆãƒªï¼ˆdiagnoleads-v2ï¼‰

**æ±ºå®š**: ãƒ•ã‚©ãƒ¼ã‚¯ã§ã¯ãªãæ–°è¦ãƒªãƒã‚¸ãƒˆãƒªä½œæˆ

**ç†ç”±**:
- âœ… **ã‚¯ãƒªãƒ¼ãƒ³ã‚¹ã‚¿ãƒ¼ãƒˆ**: ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ»è¨­å®šãªã—
- âœ… **ä¸¦è¡Œé–‹ç™º**: ç¾è¡Œãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ç¨¼åƒç¶™ç¶š
- âœ… **æ˜ç¢ºãªåˆ†é›¢**: ç•°ãªã‚‹æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€æ§‹é€ 
- âœ… **æ®µéšçš„ç§»è¡Œ**: æ©Ÿèƒ½ã‚’å¾ã€…ã«ç§»è¡Œå¯èƒ½

---

### ADR-010: Tailwind CSS 4.0 + shadcn/ui v2

**æ±ºå®š**: Tailwind CSS 4.0ï¼ˆOxide Engineï¼‰+ shadcn/ui v2ï¼ˆReact Ariaï¼‰

**ç†ç”±**:
- âœ… **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: Oxide Engineã¯10å€é«˜é€Ÿï¼ˆRustè£½ï¼‰
- âœ… **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: React Aria Componentsæ¨™æº–æ­è¼‰
- âœ… **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§**: ã‚³ãƒ”ãƒšã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€å®Œå…¨åˆ¶å¾¡
- âœ… **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ã‚¹ãƒˆã‚¼ãƒ­**: CSS-in-JSæ¯”

**ä»£æ›¿æ¡ˆå´ä¸‹**:
- Panda CSS: ã‚¼ãƒ­ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã ãŒã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ å°
- StyleX: Metaè£½ã ãŒæœªæˆç†Ÿ

---

## ğŸ“Š ã‚³ã‚¹ãƒˆæ¯”è¼ƒ

### ç¾è¡Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆv1ï¼‰

| ã‚µãƒ¼ãƒ“ã‚¹ | æœˆé¡ |
|---------|------|
| Vercelï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰ | $20 |
| Railwayï¼ˆFastAPIï¼‰ | $5-20 |
| Supabase | $25 |
| Upstash Redis | $0 |
| Claude API | $30-100 |
| **åˆè¨ˆ** | **$80-165** |

### æ–°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆv2ï¼‰

| ã‚µãƒ¼ãƒ“ã‚¹ | æœˆé¡ | å‰Šæ¸›é¡ |
|---------|------|--------|
| Vercelï¼ˆãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ï¼‰ | $20 | - |
| ~~Railway~~ | $0 | **+$5-20** |
| Supabase | $25 | - |
| ~~Upstash Redis~~ | $0 | - |
| ~~Prisma Accelerator~~ | $0 | **+$29** |
| Claude API | $30-100 | - |
| **åˆè¨ˆ** | **$75-145** | **$5-49å‰Šæ¸›** |

### ã‚¹ã‚±ãƒ¼ãƒ«æ™‚ã®ã‚³ã‚¹ãƒˆï¼ˆ500ãƒ†ãƒŠãƒ³ãƒˆæƒ³å®šï¼‰

| é …ç›® | v1 | v2 | å‰Šæ¸›é¡ |
|-----|----|----|--------|
| ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒˆ | $200-300 | $100-150 | $100-150 |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | $100 | $100 | $0 |
| ã‚¨ãƒƒã‚¸é–¢æ•° | $50 | $0ï¼ˆå«ã‚€ï¼‰ | $50 |
| AI API | $500-800 | $500-800 | $0 |
| **åˆè¨ˆ** | **$850-1250** | **$700-1050** | **$150-200** |

---

## ğŸš€ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. å¿…é ˆãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# miseï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ï¼‰
curl https://mise.run | sh
echo 'eval "$(mise activate bash)"' >> ~/.bashrc
source ~/.bashrc

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ„ãƒ¼ãƒ«è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd diagnoleads-v2
mise install
# â†’ Bun 1.1.38ã€Node.js 20.11.0ã€lefthook 1.10.1ãŒè‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```

### 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
bun install

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env.local

# Dockerèµ·å‹•ï¼ˆPostgreSQLã€Redisã€Mailhogã€PgAdminï¼‰
docker-compose up -d

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
bun run db:migrate

# ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
bun run db:seed

# Gitãƒ•ãƒƒã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
bun run prepare

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
bun run dev
```

### 3. ã‚¢ã‚¯ã‚»ã‚¹URL

- **ã‚¢ãƒ—ãƒª**: http://localhost:3000
- **PgAdmin**: http://localhost:5050ï¼ˆadmin@diagnoleads.local / adminï¼‰
- **Mailhog**: http://localhost:8025ï¼ˆãƒ¡ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰
- **API Docs**: http://localhost:3000/api/docsï¼ˆScalar UIï¼‰

---

## ğŸ“ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ã‚³ãƒŸãƒƒãƒˆè¦ç´„ï¼ˆConventional Commitsï¼‰

```bash
# è‰¯ã„ä¾‹
git commit -m "feat(leads): add lead scoring calculation"
git commit -m "fix(auth): resolve multi-tenant session issue"
git commit -m "docs(api): update OpenAPI spec for leads endpoint"

# æ‚ªã„ä¾‹
git commit -m "update code"
git commit -m "fix bug"
```

### åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚³ãƒ¼ãƒ—

```
auth, leads, assessments, analytics, ai, db, api, ui, embed,
integrations, email, jobs, i18n, seo, ci, deps, config, docs, test
```

### Gitãƒ•ãƒƒã‚¯å‹•ä½œ

```bash
# pre-commitï¼ˆã‚³ãƒŸãƒƒãƒˆå‰ï¼‰
# - Biome: ãƒªãƒ³ãƒˆãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆä¸¦åˆ—ï¼‰
# - TypeScript: å‹ãƒã‚§ãƒƒã‚¯ï¼ˆä¸¦åˆ—ï¼‰
# - Vitest: å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ã‚¹ãƒˆï¼ˆä¸¦åˆ—ï¼‰

# commit-msgï¼ˆã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¤œè¨¼ï¼‰
# - commitlint: Conventional Commitsæº–æ‹ ãƒã‚§ãƒƒã‚¯

# pre-pushï¼ˆãƒ—ãƒƒã‚·ãƒ¥å‰ï¼‰
# - ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆä¸¦åˆ—ï¼‰
# - E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰ï¼ˆä¸¦åˆ—ï¼‰
# - ãƒ“ãƒ«ãƒ‰ç¢ºèªï¼ˆä¸¦åˆ—ï¼‰
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆVitestï¼‰

```bash
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
bun test

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
bun test --watch

# ã‚«ãƒãƒ¬ãƒƒã‚¸
bun test --coverage

# ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«
bun test leads.test.ts
```

### E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰

```bash
# ã™ã¹ã¦ã®E2Eãƒ†ã‚¹ãƒˆ
bun test:e2e

# UI Modeï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
bun test:e2e --ui

# ç‰¹å®šãƒ–ãƒ©ã‚¦ã‚¶
bun test:e2e --project=chromium

# ãƒ˜ãƒƒãƒ‰ãƒ•ãƒ«ãƒ¢ãƒ¼ãƒ‰
bun test:e2e --headed
```

### ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

- **å…¨ä½“**: 70%ä»¥ä¸Š
- **ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹**ï¼ˆèªè¨¼ã€ãƒ†ãƒŠãƒ³ãƒˆåˆ†é›¢ã€ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼‰: 100%

---

## ğŸ“¦ ãƒ‡ãƒ—ãƒ­ã‚¤

### Vercelãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# 1. Vercelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ³ã‚¯
bunx vercel link

# 2. ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆVercelãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰
# DATABASE_URL, BETTER_AUTH_SECRET, ANTHROPIC_API_KEY, etc.

# 3. ãƒ‡ãƒ—ãƒ­ã‚¤
bunx vercel --prod

# 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœ¬ç•ªï¼‰
# Vercel CLIã¾ãŸã¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰å®Ÿè¡Œ
```

### ç’°å¢ƒå¤‰æ•°ï¼ˆæœ¬ç•ªï¼‰

```bash
# å¿…é ˆç’°å¢ƒå¤‰æ•°
DATABASE_URL="postgresql://..."          # Supabaseæœ¬ç•ªDB
DIRECT_URL="postgresql://..."            # Supabase Direct URL
BETTER_AUTH_SECRET="..."                 # OpenSSLã§ç”Ÿæˆ
BETTER_AUTH_URL="https://app.diagnoleads.com"
ANTHROPIC_API_KEY="sk-ant-..."          # Anthropic APIã‚­ãƒ¼
RESEND_API_KEY="re_..."                 # Resend APIã‚­ãƒ¼
TRIGGER_API_KEY="tr_..."                # Trigger.devæœ¬ç•ªã‚­ãƒ¼
NEXT_PUBLIC_APP_URL="https://app.diagnoleads.com"
```

---

## ğŸ¯ ç§»è¡Œã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

### ãƒ•ã‚§ãƒ¼ã‚º1: åŸºç›¤ï¼ˆ1ãƒ¶æœˆç›®ï¼‰
- âœ… ãƒªãƒã‚¸ãƒˆãƒªä½œæˆ
- âœ… Next.js 15ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- âœ… Drizzle ORM + PostgreSQL
- âœ… BetterAuthèªè¨¼
- âœ… CI/CDæ§‹ç¯‰

### ãƒ•ã‚§ãƒ¼ã‚º2: ã‚³ã‚¢æ©Ÿèƒ½ï¼ˆ2-3ãƒ¶æœˆç›®ï¼‰
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒç§»è¡Œ
- âœ… tRPCãƒ«ãƒ¼ã‚¿ãƒ¼å®Ÿè£…
- âœ… ç®¡ç†ç”»é¢UIæ§‹ç¯‰
- âœ… ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆRLS

### ãƒ•ã‚§ãƒ¼ã‚º3: AIæ©Ÿèƒ½ï¼ˆ4ãƒ¶æœˆç›®ï¼‰
- âœ… è¨ºæ–­ç”Ÿæˆï¼ˆVercel AI SDKï¼‰
- âœ… ãƒªãƒ¼ãƒ‰åˆ†æï¼ˆVercel AI SDKï¼‰
- âœ… ãƒ™ã‚¯ãƒˆãƒ«åŸ‹ã‚è¾¼ã¿ï¼ˆpgvectorï¼‰
- âœ… Trigger.devã‚¸ãƒ§ãƒ–

### ãƒ•ã‚§ãƒ¼ã‚º4: å…¬é–‹ãƒšãƒ¼ã‚¸ï¼ˆ5ãƒ¶æœˆç›®ï¼‰
- âœ… ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°LP
- âœ… å…¬é–‹è¨ºæ–­ãƒšãƒ¼ã‚¸ï¼ˆSSR/SSGï¼‰
- âœ… åŸ‹ã‚è¾¼ã¿ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
- âœ… SEOæœ€é©åŒ–

### ãƒ•ã‚§ãƒ¼ã‚º5: é€£æºï¼ˆ6ãƒ¶æœˆç›®ï¼‰
- âœ… Salesforceé€£æº
- âœ… HubSpoté€£æº
- âœ… Slacké€šçŸ¥
- âœ… Webhook

### ãƒ•ã‚§ãƒ¼ã‚º6: åˆ†æãƒ»ä»•ä¸Šã’ï¼ˆ7ãƒ¶æœˆç›®ï¼‰
- âœ… åˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- âœ… E2Eãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

### ãƒ•ã‚§ãƒ¼ã‚º7: ç§»è¡Œãƒ»ã‚«ãƒƒãƒˆã‚ªãƒ¼ãƒãƒ¼ï¼ˆ8ãƒ¶æœˆç›®ï¼‰
- âœ… ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- âœ… ä¸¦è¡Œç¨¼åƒï¼ˆv1 + v2ï¼‰
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ
- âœ… æ®µéšçš„ã‚«ãƒƒãƒˆã‚ªãƒ¼ãƒãƒ¼

---

## ğŸ“š å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Next.js 15](https://nextjs.org/docs)
- [Drizzle ORM](https://orm.drizzle.team/)
- [BetterAuth](https://www.better-auth.com/)
- [tRPC](https://trpc.io/)
- [Vitest](https://vitest.dev/)
- [Playwright](https://playwright.dev/)
- [Tailwind CSS 4.0](https://tailwindcss.com/)
- [shadcn/ui](https://ui.shadcn.com/)
- [Vercel AI SDK](https://sdk.vercel.ai/)
- [Trigger.dev](https://trigger.dev/)
- [Bun](https://bun.sh/)
- [Biome](https://biomejs.dev/)
- [lefthook](https://github.com/evilmartians/lefthook)

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è³‡æ–™

- å®Œå…¨ç‰ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: `docs/DIAGNOLEADS_V2_ARCHITECTURE.md`
- OpenSpecä»•æ§˜: `openspec/specs/`
- ADRï¼ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šè¨˜éŒ²ï¼‰: `docs/architecture/decisions/`

---

**æœ€çµ‚æ›´æ–°**: 2025-11-23
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
**æ‰¿èª**: å®Ÿè£…æº–å‚™å®Œäº† âœ…
